# Phase 1 â€” Secure Azure Infrastructure & Managed Identity Access

This phase delivers the foundational security layer of the project:
a fully locked-down Azure VM (no public IP), identity-based access,
and secure secret retrieval without credentials.

---

## ğŸ” What Was Built

### Network & Access
- Private-only Ubuntu VM (`vm-secure-ubuntu`) deployed with **no Public IP**
- Access controlled through **Azure Bastion**
- Virtual Network + Subnet + NSG following least-privilege rules

### Identity & Secrets
- Enabled **System-Assigned Managed Identity** on the VM
- Azure Key Vault (`kvsecure6386`) configured with **RBAC**, not access policies
- Assigned **Key Vault Secrets User** role to the VM identity
- Successfully retrieved secret from Key Vault **inside the VM without any credentials**

### Logging & Telemetry
- Log Analytics Workspace configured (`law-secure-infra`)
- Azure Monitor Agent (AMA) installed
- Data Collection Rule (`dcr-secure-syslog-perf`) created for:
  - Syslog (auth, authpriv)
  - Performance metrics
- DCR fully associated to the VM

---

## ğŸ§ª Validation

A Python script executed inside the VM successfully accessed Key Vault:

"Super-Secret-Value-123"


This confirms:
- Identity-based authentication works end-to-end  
- No secrets/keys/credentials stored anywhere  
- RBAC configuration is correct  
- Network isolation is enforced  

Evidence available in `evidence/`.

---

## ğŸ“ Structure

phase-1-infra-secret/
â”‚
â”œâ”€â”€ README.md
â”œâ”€â”€ scripts/
â”‚ â”œâ”€â”€ create-infra.sh
â”‚ â”œâ”€â”€ get-secret.py
â”‚ â””â”€â”€ notes.md
â””â”€â”€ evidence/
â”œâ”€â”€ resource-group-overview.png
â”œâ”€â”€ keyvault-rbac.png
â”œâ”€â”€ dcr-association.png
â””â”€â”€ secret-retrieval-managed-identity.png

---

## âœ”ï¸ Phase Status  
**Completed**

Next phase: Private Endpoint + disable public access on Key Vault.
